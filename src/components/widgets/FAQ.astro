---
import { getCollection } from "astro:content";

interface Props {
  category: "vav" | "investicie" | "patent-box";
}

const { category } = Astro.props;

const allFAQs = await getCollection("faq", ({ data }) => {
  return data.category === category;
});

const sortedFAQs = allFAQs.sort((a, b) => a.data.order - b.data.order);
---

<div class="faq-list">
  {sortedFAQs.map(async (faq) => {
    const { Content } = await faq.render();
    return (
      <details class="faq-item">
        <summary class="faq-summary">
          <span class="faq-sign">+</span>
          <span class="faq-question">{faq.data.question}</span>
        </summary>
        <div class="faq-answer">
          <Content />
        </div>
      </details>
    );
  })}
</div>

<style>
  /* skryť defaultnú šípku */
  details summary::-webkit-details-marker {
    display: none;
  }
</style>
